
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/extensions/dragonbones/CCSlot.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

var _mat = _interopRequireDefault(require("../../cocos2d/core/value-types/mat4"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 http://www.cocos2d-x.org

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/
var BinaryOffset = dragonBones.BinaryOffset;
var BoneType = dragonBones.BoneType;
dragonBones.CCSlot = cc.Class({
  name: 'dragonBones.CCSlot',
  "extends": dragonBones.Slot,
  ctor: function ctor() {
    this._localVertices = [];
    this._indices = [];
    this._matrix = cc.mat4();
    this._worldMatrix = cc.mat4();
    this._worldMatrixDirty = true;
    this._visible = false;
    this._color = cc.color();
  },
  _onClear: function _onClear() {
    this._super();

    this._localVertices.length = 0;
    this._indices.length = 0;

    _mat["default"].identity(this._matrix);

    _mat["default"].identity(this._worldMatrix);

    this._worldMatrixDirty = true;
    this._color = cc.color();
    this._visible = false;
  },
  statics: {
    toString: function toString() {
      return "[class dragonBones.CCSlot]";
    }
  },
  // just for adapt to dragonbones api,no need to do any thing
  _onUpdateDisplay: function _onUpdateDisplay() {},
  // just for adapt to dragonbones api,no need to do any thing
  _initDisplay: function _initDisplay(value) {},
  _addDisplay: function _addDisplay() {
    this._visible = true;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _replaceDisplay: function _replaceDisplay(value) {},
  _removeDisplay: function _removeDisplay() {
    this._visible = false;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _disposeDisplay: function _disposeDisplay(object) {},
  _updateVisible: function _updateVisible() {
    this._visible = this.parent._visible;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _updateZOrder: function _updateZOrder() {},
  _updateBlendMode: function _updateBlendMode() {
    if (this._childArmature) {
      var childSlots = this._childArmature.getSlots();

      for (var i = 0, l = childSlots.length; i < l; i++) {
        var slot = childSlots[i];
        slot._blendMode = this._blendMode;

        slot._updateBlendMode();
      }
    }
  },
  _updateColor: function _updateColor() {
    var c = this._color;
    c.r = this._colorTransform.redMultiplier * 255;
    c.g = this._colorTransform.greenMultiplier * 255;
    c.b = this._colorTransform.blueMultiplier * 255;
    c.a = this._colorTransform.alphaMultiplier * 255;
  },
  //return dragonBones.CCTexture2D
  getTexture: function getTexture() {
    return this._textureData && this._textureData.spriteFrame && this._textureData.spriteFrame.getTexture();
  },
  _updateFrame: function _updateFrame() {
    this._indices.length = 0;
    var indices = this._indices,
        localVertices = this._localVertices;
    var indexOffset = 0,
        vfOffset = 0;
    var currentTextureData = this._textureData;
    if (!this._display || this._displayIndex < 0 || !currentTextureData || !currentTextureData.spriteFrame) return;
    var texture = currentTextureData.spriteFrame.getTexture();
    var textureAtlasWidth = texture.width;
    var textureAtlasHeight = texture.height;
    var region = currentTextureData.region;
    var currentVerticesData = this._deformVertices !== null && this._display === this._meshDisplay ? this._deformVertices.verticesData : null;

    if (currentVerticesData) {
      var data = currentVerticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexCount];
      var triangleCount = intArray[currentVerticesData.offset + BinaryOffset.MeshTriangleCount];
      var vertexOffset = intArray[currentVerticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      var uvOffset = vertexOffset + vertexCount * 2;
      var scale = this._armature._armatureData.scale;

      for (var i = 0, l = vertexCount * 2; i < l; i += 2) {
        localVertices[vfOffset++] = floatArray[vertexOffset + i] * scale;
        localVertices[vfOffset++] = -floatArray[vertexOffset + i + 1] * scale;

        if (currentVerticesData.rotated) {
          localVertices[vfOffset++] = (region.x + (1.0 - floatArray[uvOffset + i]) * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        } else {
          localVertices[vfOffset++] = (region.x + floatArray[uvOffset + i] * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        }
      }

      for (var _i = 0; _i < triangleCount * 3; ++_i) {
        indices[indexOffset++] = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexIndices + _i];
      }

      localVertices.length = vfOffset;
      indices.length = indexOffset;
      var isSkinned = !!currentVerticesData.weight;

      if (isSkinned) {
        this._identityTransform();
      }
    } else {
      var _l = region.x / textureAtlasWidth;

      var b = (region.y + region.height) / textureAtlasHeight;
      var r = (region.x + region.width) / textureAtlasWidth;
      var t = region.y / textureAtlasHeight;
      localVertices[vfOffset++] = 0; // 0x

      localVertices[vfOffset++] = 0; // 0y

      localVertices[vfOffset++] = _l; // 0u

      localVertices[vfOffset++] = b; // 0v

      localVertices[vfOffset++] = region.width; // 1x

      localVertices[vfOffset++] = 0; // 1y

      localVertices[vfOffset++] = r; // 1u

      localVertices[vfOffset++] = b; // 1v

      localVertices[vfOffset++] = 0; // 2x

      localVertices[vfOffset++] = region.height;
      ; // 2y

      localVertices[vfOffset++] = _l; // 2u

      localVertices[vfOffset++] = t; // 2v

      localVertices[vfOffset++] = region.width; // 3x

      localVertices[vfOffset++] = region.height;
      ; // 3y

      localVertices[vfOffset++] = r; // 3u

      localVertices[vfOffset++] = t; // 3v

      indices[0] = 0;
      indices[1] = 1;
      indices[2] = 2;
      indices[3] = 1;
      indices[4] = 3;
      indices[5] = 2;
      localVertices.length = vfOffset;
      indices.length = 6;
    }

    this._visibleDirty = true;
    this._blendModeDirty = true;
    this._colorDirty = true;
  },
  _updateMesh: function _updateMesh() {
    var scale = this._armature._armatureData.scale;
    var deformVertices = this._deformVertices.vertices;
    var bones = this._deformVertices.bones;
    var verticesData = this._deformVertices.verticesData;
    var weightData = verticesData.weight;
    var hasDeform = deformVertices.length > 0 && verticesData.inheritDeform;
    var localVertices = this._localVertices;

    if (weightData) {
      var data = verticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var weightFloatOffset = intArray[weightData.offset + BinaryOffset.WeigthFloatOffset];

      if (weightFloatOffset < 0) {
        weightFloatOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var i = 0, iB = weightData.offset + BinaryOffset.WeigthBoneIndices + bones.length, iV = weightFloatOffset, iF = 0, lvi = 0; i < vertexCount; i++, lvi += 4) {
        var boneCount = intArray[iB++];
        var xG = 0.0,
            yG = 0.0;

        for (var j = 0; j < boneCount; ++j) {
          var boneIndex = intArray[iB++];
          var bone = bones[boneIndex];

          if (bone !== null) {
            var matrix = bone.globalTransformMatrix;
            var weight = floatArray[iV++];
            var xL = floatArray[iV++] * scale;
            var yL = floatArray[iV++] * scale;

            if (hasDeform) {
              xL += deformVertices[iF++];
              yL += deformVertices[iF++];
            }

            xG += (matrix.a * xL + matrix.c * yL + matrix.tx) * weight;
            yG += (matrix.b * xL + matrix.d * yL + matrix.ty) * weight;
          }
        }

        localVertices[lvi] = xG;
        localVertices[lvi + 1] = -yG;
      }
    } else if (hasDeform) {
      var isSurface = this._parent._boneData.type !== BoneType.Bone;
      var _data = verticesData.data;
      var _intArray = _data.intArray;
      var _floatArray = _data.floatArray;
      var _vertexCount = _intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var vertexOffset = _intArray[verticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var _i2 = 0, l = _vertexCount, _lvi = 0; _i2 < l; _i2++, _lvi += 4) {
        var x = _floatArray[vertexOffset + _i2 * 2] * scale + deformVertices[_i2 * 2];
        var y = _floatArray[vertexOffset + _i2 * 2 + 1] * scale + deformVertices[_i2 * 2 + 1];

        if (isSurface) {
          var _matrix = this._parent._getGlobalTransformMatrix(x, y);

          localVertices[_lvi] = _matrix.a * x + _matrix.c * y + _matrix.tx;
          localVertices[_lvi + 1] = -_matrix.b * x + _matrix.d * y + _matrix.ty;
        } else {
          localVertices[_lvi] = x;
          localVertices[_lvi + 1] = -y;
        }
      }
    }

    if (weightData) {
      this._identityTransform();
    }
  },
  _identityTransform: function _identityTransform() {
    var m = this._matrix.m;
    m[0] = 1.0;
    m[1] = 0.0;
    m[4] = -0.0;
    m[5] = -1.0;
    m[12] = 0.0;
    m[13] = 0.0;
    this._worldMatrixDirty = true;
  },
  _updateTransform: function _updateTransform() {
    var t = this._matrix;
    var tm = t.m;
    tm[0] = this.globalTransformMatrix.a;
    tm[1] = this.globalTransformMatrix.b;
    tm[4] = -this.globalTransformMatrix.c;
    tm[5] = -this.globalTransformMatrix.d;

    if (this._childArmature) {
      tm[12] = this.globalTransformMatrix.tx;
      tm[13] = this.globalTransformMatrix.ty;
    } else {
      tm[12] = this.globalTransformMatrix.tx - (this.globalTransformMatrix.a * this._pivotX - this.globalTransformMatrix.c * this._pivotY);
      tm[13] = this.globalTransformMatrix.ty - (this.globalTransformMatrix.b * this._pivotX - this.globalTransformMatrix.d * this._pivotY);
    }

    this._worldMatrixDirty = true;
  },
  updateWorldMatrix: function updateWorldMatrix() {
    if (!this._armature) return;
    var parentSlot = this._armature._parent;

    if (parentSlot) {
      parentSlot.updateWorldMatrix();
    }

    if (this._worldMatrixDirty) {
      this.calculWorldMatrix();
      var childArmature = this.childArmature;
      if (!childArmature) return;
      var slots = childArmature.getSlots();

      for (var i = 0, n = slots.length; i < n; i++) {
        var slot = slots[i];

        if (slot) {
          slot._worldMatrixDirty = true;
        }
      }
    }
  },
  _mulMat: function _mulMat(out, a, b) {
    var am = a.m,
        bm = b.m,
        outm = out.m;
    var aa = am[0],
        ab = am[1],
        ac = am[4],
        ad = am[5],
        atx = am[12],
        aty = am[13];
    var ba = bm[0],
        bb = bm[1],
        bc = bm[4],
        bd = bm[5],
        btx = bm[12],
        bty = bm[13];

    if (ab !== 0 || ac !== 0) {
      outm[0] = ba * aa + bb * ac;
      outm[1] = ba * ab + bb * ad;
      outm[4] = bc * aa + bd * ac;
      outm[5] = bc * ab + bd * ad;
      outm[12] = aa * btx + ac * bty + atx;
      outm[13] = ab * btx + ad * bty + aty;
    } else {
      outm[0] = ba * aa;
      outm[1] = bb * ad;
      outm[4] = bc * aa;
      outm[5] = bd * ad;
      outm[12] = aa * btx + atx;
      outm[13] = ad * bty + aty;
    }
  },
  calculWorldMatrix: function calculWorldMatrix() {
    var parent = this._armature._parent;

    if (parent) {
      this._mulMat(this._worldMatrix, parent._worldMatrix, this._matrix);
    } else {
      _mat["default"].copy(this._worldMatrix, this._matrix);
    }

    this._worldMatrixDirty = false;
  }
});
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNDU2xvdC5qcyJdLCJuYW1lcyI6WyJCaW5hcnlPZmZzZXQiLCJkcmFnb25Cb25lcyIsIkJvbmVUeXBlIiwiQ0NTbG90IiwiY2MiLCJDbGFzcyIsIm5hbWUiLCJTbG90IiwiY3RvciIsIl9sb2NhbFZlcnRpY2VzIiwiX2luZGljZXMiLCJfbWF0cml4IiwibWF0NCIsIl93b3JsZE1hdHJpeCIsIl93b3JsZE1hdHJpeERpcnR5IiwiX3Zpc2libGUiLCJfY29sb3IiLCJjb2xvciIsIl9vbkNsZWFyIiwiX3N1cGVyIiwibGVuZ3RoIiwiTWF0NCIsImlkZW50aXR5Iiwic3RhdGljcyIsInRvU3RyaW5nIiwiX29uVXBkYXRlRGlzcGxheSIsIl9pbml0RGlzcGxheSIsInZhbHVlIiwiX2FkZERpc3BsYXkiLCJfcmVwbGFjZURpc3BsYXkiLCJfcmVtb3ZlRGlzcGxheSIsIl9kaXNwb3NlRGlzcGxheSIsIm9iamVjdCIsIl91cGRhdGVWaXNpYmxlIiwicGFyZW50IiwiX3VwZGF0ZVpPcmRlciIsIl91cGRhdGVCbGVuZE1vZGUiLCJfY2hpbGRBcm1hdHVyZSIsImNoaWxkU2xvdHMiLCJnZXRTbG90cyIsImkiLCJsIiwic2xvdCIsIl9ibGVuZE1vZGUiLCJfdXBkYXRlQ29sb3IiLCJjIiwiciIsIl9jb2xvclRyYW5zZm9ybSIsInJlZE11bHRpcGxpZXIiLCJnIiwiZ3JlZW5NdWx0aXBsaWVyIiwiYiIsImJsdWVNdWx0aXBsaWVyIiwiYSIsImFscGhhTXVsdGlwbGllciIsImdldFRleHR1cmUiLCJfdGV4dHVyZURhdGEiLCJzcHJpdGVGcmFtZSIsIl91cGRhdGVGcmFtZSIsImluZGljZXMiLCJsb2NhbFZlcnRpY2VzIiwiaW5kZXhPZmZzZXQiLCJ2Zk9mZnNldCIsImN1cnJlbnRUZXh0dXJlRGF0YSIsIl9kaXNwbGF5IiwiX2Rpc3BsYXlJbmRleCIsInRleHR1cmUiLCJ0ZXh0dXJlQXRsYXNXaWR0aCIsIndpZHRoIiwidGV4dHVyZUF0bGFzSGVpZ2h0IiwiaGVpZ2h0IiwicmVnaW9uIiwiY3VycmVudFZlcnRpY2VzRGF0YSIsIl9kZWZvcm1WZXJ0aWNlcyIsIl9tZXNoRGlzcGxheSIsInZlcnRpY2VzRGF0YSIsImRhdGEiLCJpbnRBcnJheSIsImZsb2F0QXJyYXkiLCJ2ZXJ0ZXhDb3VudCIsIm9mZnNldCIsIk1lc2hWZXJ0ZXhDb3VudCIsInRyaWFuZ2xlQ291bnQiLCJNZXNoVHJpYW5nbGVDb3VudCIsInZlcnRleE9mZnNldCIsIk1lc2hGbG9hdE9mZnNldCIsInV2T2Zmc2V0Iiwic2NhbGUiLCJfYXJtYXR1cmUiLCJfYXJtYXR1cmVEYXRhIiwicm90YXRlZCIsIngiLCJ5IiwiTWVzaFZlcnRleEluZGljZXMiLCJpc1NraW5uZWQiLCJ3ZWlnaHQiLCJfaWRlbnRpdHlUcmFuc2Zvcm0iLCJ0IiwiX3Zpc2libGVEaXJ0eSIsIl9ibGVuZE1vZGVEaXJ0eSIsIl9jb2xvckRpcnR5IiwiX3VwZGF0ZU1lc2giLCJkZWZvcm1WZXJ0aWNlcyIsInZlcnRpY2VzIiwiYm9uZXMiLCJ3ZWlnaHREYXRhIiwiaGFzRGVmb3JtIiwiaW5oZXJpdERlZm9ybSIsIndlaWdodEZsb2F0T2Zmc2V0IiwiV2VpZ3RoRmxvYXRPZmZzZXQiLCJpQiIsIldlaWd0aEJvbmVJbmRpY2VzIiwiaVYiLCJpRiIsImx2aSIsImJvbmVDb3VudCIsInhHIiwieUciLCJqIiwiYm9uZUluZGV4IiwiYm9uZSIsIm1hdHJpeCIsImdsb2JhbFRyYW5zZm9ybU1hdHJpeCIsInhMIiwieUwiLCJ0eCIsImQiLCJ0eSIsImlzU3VyZmFjZSIsIl9wYXJlbnQiLCJfYm9uZURhdGEiLCJ0eXBlIiwiQm9uZSIsIl9nZXRHbG9iYWxUcmFuc2Zvcm1NYXRyaXgiLCJtIiwiX3VwZGF0ZVRyYW5zZm9ybSIsInRtIiwiX3Bpdm90WCIsIl9waXZvdFkiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsInBhcmVudFNsb3QiLCJjYWxjdWxXb3JsZE1hdHJpeCIsImNoaWxkQXJtYXR1cmUiLCJzbG90cyIsIm4iLCJfbXVsTWF0Iiwib3V0IiwiYW0iLCJibSIsIm91dG0iLCJhYSIsImFiIiwiYWMiLCJhZCIsImF0eCIsImF0eSIsImJhIiwiYmIiLCJiYyIsImJkIiwiYnR4IiwiYnR5IiwiY29weSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQXlCQTs7OztBQXpCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMkJBLElBQU1BLFlBQVksR0FBR0MsV0FBVyxDQUFDRCxZQUFqQztBQUNBLElBQU1FLFFBQVEsR0FBSUQsV0FBVyxDQUFDQyxRQUE5QjtBQUVBRCxXQUFXLENBQUNFLE1BQVosR0FBcUJDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQzFCQyxFQUFBQSxJQUFJLEVBQUUsb0JBRG9CO0FBRTFCLGFBQVNMLFdBQVcsQ0FBQ00sSUFGSztBQUkxQkMsRUFBQUEsSUFKMEIsa0JBSWxCO0FBQ0osU0FBS0MsY0FBTCxHQUFzQixFQUF0QjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxTQUFLQyxPQUFMLEdBQWVQLEVBQUUsQ0FBQ1EsSUFBSCxFQUFmO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQlQsRUFBRSxDQUFDUSxJQUFILEVBQXBCO0FBQ0EsU0FBS0UsaUJBQUwsR0FBeUIsSUFBekI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLEtBQWhCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjWixFQUFFLENBQUNhLEtBQUgsRUFBZDtBQUNILEdBWnlCO0FBYzFCQyxFQUFBQSxRQWQwQixzQkFjZDtBQUNSLFNBQUtDLE1BQUw7O0FBQ0EsU0FBS1YsY0FBTCxDQUFvQlcsTUFBcEIsR0FBNkIsQ0FBN0I7QUFDQSxTQUFLVixRQUFMLENBQWNVLE1BQWQsR0FBdUIsQ0FBdkI7O0FBQ0FDLG9CQUFLQyxRQUFMLENBQWMsS0FBS1gsT0FBbkI7O0FBQ0FVLG9CQUFLQyxRQUFMLENBQWMsS0FBS1QsWUFBbkI7O0FBQ0EsU0FBS0MsaUJBQUwsR0FBeUIsSUFBekI7QUFDQSxTQUFLRSxNQUFMLEdBQWNaLEVBQUUsQ0FBQ2EsS0FBSCxFQUFkO0FBQ0EsU0FBS0YsUUFBTCxHQUFn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LEVBQUUsR0FBR1MsR0FBTCxHQUFXUCxFQUFFLEdBQUdRLEdBQWhCLEdBQXNCTixHQUFqQztBQUNILEtBUEQsTUFRSztBQUNETixNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVPLEVBQUUsR0FBR04sRUFBZjtBQUNBRCxNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVRLEVBQUUsR0FBR0osRUFBZjtBQUNBSixNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVTLEVBQUUsR0FBR1IsRUFBZjtBQUNBRCxNQUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLEdBQVVVLEVBQUUsR0FBR04sRUFBZjtBQUNBSixNQUFBQSxJQUFJLENBQUMsRUFBRCxDQUFKLEdBQVdDLEVBQUUsR0FBR1UsR0FBTCxHQUFXTixHQUF0QjtBQUNBTCxNQUFBQSxJQUFJLENBQUMsRUFBRCxDQUFKLEdBQVdJLEVBQUUsR0FBR1EsR0FBTCxHQUFXTixHQUF0QjtBQUNIO0FBQ0osR0FyVnlCO0FBdVYxQmQsRUFBQUEsaUJBdlYwQiwrQkF1Vkw7QUFDakIsUUFBSTNHLE1BQU0sR0FBRyxLQUFLc0QsU0FBTCxDQUFleUMsT0FBNUI7O0FBQ0EsUUFBSS9GLE1BQUosRUFBWTtBQUNSLFdBQUsrRyxPQUFMLENBQWEsS0FBS3BJLFlBQWxCLEVBQWdDcUIsTUFBTSxDQUFDckIsWUFBdkMsRUFBcUQsS0FBS0YsT0FBMUQ7QUFDSCxLQUZELE1BRU87QUFDSFUsc0JBQUs2SSxJQUFMLENBQVUsS0FBS3JKLFlBQWYsRUFBNkIsS0FBS0YsT0FBbEM7QUFDSDs7QUFDRCxTQUFLRyxpQkFBTCxHQUF5QixLQUF6QjtBQUNIO0FBL1Z5QixDQUFULENBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiBDb3B5cmlnaHQgKGMpIDIwMTYgQ2h1a29uZyBUZWNobm9sb2dpZXMgSW5jLlxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgTWF0NCBmcm9tICcuLi8uLi9jb2NvczJkL2NvcmUvdmFsdWUtdHlwZXMvbWF0NCc7XG5cbmNvbnN0IEJpbmFyeU9mZnNldCA9IGRyYWdvbkJvbmVzLkJpbmFyeU9mZnNldDtcbmNvbnN0IEJvbmVUeXBlICA9IGRyYWdvbkJvbmVzLkJvbmVUeXBlO1xuXG5kcmFnb25Cb25lcy5DQ1Nsb3QgPSBjYy5DbGFzcyh7XG4gICAgbmFtZTogJ2RyYWdvbkJvbmVzLkNDU2xvdCcsXG4gICAgZXh0ZW5kczogZHJhZ29uQm9uZXMuU2xvdCxcblxuICAgIGN0b3IgKCkge1xuICAgICAgICB0aGlzLl9sb2NhbFZlcnRpY2VzID0gW107XG4gICAgICAgIHRoaXMuX2luZGljZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gY2MubWF0NCgpO1xuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeCA9IGNjLm1hdDQoKTtcbiAgICAgICAgdGhpcy5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjYy5jb2xvcigpO1xuICAgIH0sXG5cbiAgICBfb25DbGVhciAoKSB7XG4gICAgICAgIHRoaXMuX3N1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xvY2FsVmVydGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICBNYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCk7XG4gICAgICAgIE1hdDQuaWRlbnRpdHkodGhpcy5fd29ybGRNYXRyaXgpO1xuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjYy5jb2xvcigpO1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIHN0YXRpY3MgOiB7XG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJbY2xhc3MgZHJhZ29uQm9uZXMuQ0NTbG90XVwiO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF9vblVwZGF0ZURpc3BsYXkgKCkge1xuICAgIH0sXG5cbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcbiAgICBfaW5pdERpc3BsYXkgKHZhbHVlKSB7XG4gICAgfSxcblxuICAgIF9hZGREaXNwbGF5ICgpIHtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF9yZXBsYWNlRGlzcGxheSAodmFsdWUpIHtcbiAgICB9LFxuXG4gICAgX3JlbW92ZURpc3BsYXkgKCkge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8vIGp1c3QgZm9yIGFkYXB0IHRvIGRyYWdvbmJvbmVzIGFwaSxubyBuZWVkIHRvIGRvIGFueSB0aGluZ1xuICAgIF9kaXNwb3NlRGlzcGxheSAob2JqZWN0KSB7XG4gICAgfSxcblxuICAgIF91cGRhdGVWaXNpYmxlICgpIHtcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMucGFyZW50Ll92aXNpYmxlO1xuICAgIH0sXG5cbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcbiAgICBfdXBkYXRlWk9yZGVyICgpIHtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUJsZW5kTW9kZSAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGlsZEFybWF0dXJlKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGRTbG90cyA9IHRoaXMuX2NoaWxkQXJtYXR1cmUuZ2V0U2xvdHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRTbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc2xvdCA9IGNoaWxkU2xvdHNbaV07XG4gICAgICAgICAgICAgICAgc2xvdC5fYmxlbmRNb2RlID0gdGhpcy5fYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgIHNsb3QuX3VwZGF0ZUJsZW5kTW9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF91cGRhdGVDb2xvciAoKSB7XG4gICAgICAgIGxldCBjID0gdGhpcy5fY29sb3I7XG4gICAgICAgIGMuciA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLnJlZE11bHRpcGxpZXIgKiAyNTU7XG4gICAgICAgIGMuZyA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLmdyZWVuTXVsdGlwbGllciAqIDI1NTtcbiAgICAgICAgYy5iID0gdGhpcy5fY29sb3JUcmFuc2Zvcm0uYmx1ZU11bHRpcGxpZXIgKiAyNTU7XG4gICAgICAgIGMuYSA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLmFscGhhTXVsdGlwbGllciAqIDI1NTtcbiAgICB9LFxuXG4gICAgLy9yZXR1cm4gZHJhZ29uQm9uZXMuQ0NUZXh0dXJlMkRcbiAgICBnZXRUZXh0dXJlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVEYXRhICYmIHRoaXMuX3RleHR1cmVEYXRhLnNwcml0ZUZyYW1lICYmIHRoaXMuX3RleHR1cmVEYXRhLnNwcml0ZUZyYW1lLmdldFRleHR1cmUoKTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUZyYW1lICgpIHtcbiAgICAgICAgdGhpcy5faW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICBsZXQgaW5kaWNlcyA9IHRoaXMuX2luZGljZXMsXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzID0gdGhpcy5fbG9jYWxWZXJ0aWNlcztcbiAgICAgICAgbGV0IGluZGV4T2Zmc2V0ID0gMCwgdmZPZmZzZXQgPSAwO1xuXG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZURhdGEgPSB0aGlzLl90ZXh0dXJlRGF0YTtcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNwbGF5IHx8IHRoaXMuX2Rpc3BsYXlJbmRleCA8IDAgfHwgIWN1cnJlbnRUZXh0dXJlRGF0YSB8fCAhY3VycmVudFRleHR1cmVEYXRhLnNwcml0ZUZyYW1lKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRleHR1cmUgPSBjdXJyZW50VGV4dHVyZURhdGEuc3ByaXRlRnJhbWUuZ2V0VGV4dHVyZSgpO1xuICAgICAgICBsZXQgdGV4dHVyZUF0bGFzV2lkdGggPSB0ZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgdGV4dHVyZUF0bGFzSGVpZ2h0ID0gdGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGxldCByZWdpb24gPSBjdXJyZW50VGV4dHVyZURhdGEucmVnaW9uO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWZXJ0aWNlc0RhdGEgPSAodGhpcy5fZGVmb3JtVmVydGljZXMgIT09IG51bGwgJiYgdGhpcy5fZGlzcGxheSA9PT0gdGhpcy5fbWVzaERpc3BsYXkpID8gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXNEYXRhIDogbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmIChjdXJyZW50VmVydGljZXNEYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gY3VycmVudFZlcnRpY2VzRGF0YS5kYXRhO1xuICAgICAgICAgICAgY29uc3QgaW50QXJyYXkgPSBkYXRhLmludEFycmF5O1xuICAgICAgICAgICAgY29uc3QgZmxvYXRBcnJheSA9IGRhdGEuZmxvYXRBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gaW50QXJyYXlbY3VycmVudFZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleENvdW50XTtcbiAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlQ291bnQgPSBpbnRBcnJheVtjdXJyZW50VmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoVHJpYW5nbGVDb3VudF07XG4gICAgICAgICAgICBsZXQgdmVydGV4T2Zmc2V0ID0gaW50QXJyYXlbY3VycmVudFZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaEZsb2F0T2Zmc2V0XTtcblxuICAgICAgICAgICAgaWYgKHZlcnRleE9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQgKz0gNjU1MzY7IC8vIEZpeGVkIG91dCBvZiBib3VkcyBidWcuIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1dk9mZnNldCA9IHZlcnRleE9mZnNldCArIHZlcnRleENvdW50ICogMjtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fYXJtYXR1cmUuX2FybWF0dXJlRGF0YS5zY2FsZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2ZXJ0ZXhDb3VudCAqIDI7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAtZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpICsgMV0gKiBzY2FsZTsgIFxuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWZXJ0aWNlc0RhdGEucm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi54ICsgKDEuMCAtIGZsb2F0QXJyYXlbdXZPZmZzZXQgKyBpXSkgKiByZWdpb24ud2lkdGgpIC8gdGV4dHVyZUF0bGFzV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnkgKyBmbG9hdEFycmF5W3V2T2Zmc2V0ICsgaSArIDFdICogcmVnaW9uLmhlaWdodCkgLyB0ZXh0dXJlQXRsYXNIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IChyZWdpb24ueCArIGZsb2F0QXJyYXlbdXZPZmZzZXQgKyBpXSAqIHJlZ2lvbi53aWR0aCkgLyB0ZXh0dXJlQXRsYXNXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IChyZWdpb24ueSArIGZsb2F0QXJyYXlbdXZPZmZzZXQgKyBpICsgMV0gKiByZWdpb24uaGVpZ2h0KSAvIHRleHR1cmVBdGxhc0hlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVDb3VudCAqIDM7ICsraSkge1xuICAgICAgICAgICAgICAgIGluZGljZXNbaW5kZXhPZmZzZXQrK10gPSBpbnRBcnJheVtjdXJyZW50VmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoVmVydGV4SW5kaWNlcyArIGldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzLmxlbmd0aCA9IHZmT2Zmc2V0O1xuICAgICAgICAgICAgaW5kaWNlcy5sZW5ndGggPSBpbmRleE9mZnNldDtcblxuICAgICAgICAgICAgbGV0IGlzU2tpbm5lZCA9ICEhY3VycmVudFZlcnRpY2VzRGF0YS53ZWlnaHQ7XG4gICAgICAgICAgICBpZiAoaXNTa2lubmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsID0gcmVnaW9uLnggLyB0ZXh0dXJlQXRsYXNXaWR0aDtcbiAgICAgICAgICAgIGxldCBiID0gKHJlZ2lvbi55ICsgcmVnaW9uLmhlaWdodCkgLyB0ZXh0dXJlQXRsYXNIZWlnaHQ7XG4gICAgICAgICAgICBsZXQgciA9IChyZWdpb24ueCArIHJlZ2lvbi53aWR0aCkgLyB0ZXh0dXJlQXRsYXNXaWR0aDtcbiAgICAgICAgICAgIGxldCB0ID0gcmVnaW9uLnkgLyB0ZXh0dXJlQXRsYXNIZWlnaHQ7XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAweFxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IDA7IC8vIDB5XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gbDsgLy8gMHVcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBiOyAvLyAwdlxuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcmVnaW9uLndpZHRoOyAvLyAxeFxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IDA7IC8vIDF5XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcjsgLy8gMXVcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBiOyAvLyAxdlxuXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gMDsgLy8gMnhcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24uaGVpZ2h0OzsgLy8gMnlcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBsOyAvLyAydVxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHQ7IC8vIDJ2XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24ud2lkdGg7IC8vIDN4XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcmVnaW9uLmhlaWdodDs7IC8vIDN5XG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcjsgLy8gM3VcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSB0OyAvLyAzdlxuXG4gICAgICAgICAgICBpbmRpY2VzWzBdID0gMDtcbiAgICAgICAgICAgIGluZGljZXNbMV0gPSAxO1xuICAgICAgICAgICAgaW5kaWNlc1syXSA9IDI7XG4gICAgICAgICAgICBpbmRpY2VzWzNdID0gMTtcbiAgICAgICAgICAgIGluZGljZXNbNF0gPSAzO1xuICAgICAgICAgICAgaW5kaWNlc1s1XSA9IDI7XG5cbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMubGVuZ3RoID0gdmZPZmZzZXQ7XG4gICAgICAgICAgICBpbmRpY2VzLmxlbmd0aCA9IDY7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9ibGVuZE1vZGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICBfdXBkYXRlTWVzaCAoKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fYXJtYXR1cmUuX2FybWF0dXJlRGF0YS5zY2FsZTtcbiAgICAgICAgY29uc3QgZGVmb3JtVmVydGljZXMgPSB0aGlzLl9kZWZvcm1WZXJ0aWNlcy52ZXJ0aWNlcztcbiAgICAgICAgY29uc3QgYm9uZXMgPSB0aGlzLl9kZWZvcm1WZXJ0aWNlcy5ib25lcztcbiAgICAgICAgY29uc3QgdmVydGljZXNEYXRhID0gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXNEYXRhO1xuICAgICAgICBjb25zdCB3ZWlnaHREYXRhID0gdmVydGljZXNEYXRhLndlaWdodDtcbiAgICAgICAgY29uc3QgaGFzRGVmb3JtID0gZGVmb3JtVmVydGljZXMubGVuZ3RoID4gMCAmJiB2ZXJ0aWNlc0RhdGEuaW5oZXJpdERlZm9ybTtcblxuICAgICAgICBsZXQgbG9jYWxWZXJ0aWNlcyA9IHRoaXMuX2xvY2FsVmVydGljZXM7XG4gICAgICAgIGlmICh3ZWlnaHREYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdmVydGljZXNEYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGRhdGEuaW50QXJyYXk7XG4gICAgICAgICAgICBjb25zdCBmbG9hdEFycmF5ID0gZGF0YS5mbG9hdEFycmF5O1xuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhDb3VudF07XG4gICAgICAgICAgICBsZXQgd2VpZ2h0RmxvYXRPZmZzZXQgPSBpbnRBcnJheVt3ZWlnaHREYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5XZWlndGhGbG9hdE9mZnNldF07XG5cbiAgICAgICAgICAgIGlmICh3ZWlnaHRGbG9hdE9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICB3ZWlnaHRGbG9hdE9mZnNldCArPSA2NTUzNjsgLy8gRml4ZWQgb3V0IG9mIGJvdWRzIGJ1Zy4gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwLCBpQiA9IHdlaWdodERhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0LldlaWd0aEJvbmVJbmRpY2VzICsgYm9uZXMubGVuZ3RoLCBpViA9IHdlaWdodEZsb2F0T2Zmc2V0LCBpRiA9IDAsIGx2aSA9IDA7XG4gICAgICAgICAgICAgICAgaSA8IHZlcnRleENvdW50O1xuICAgICAgICAgICAgICAgIGkrKywgbHZpKz00XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lQ291bnQgPSBpbnRBcnJheVtpQisrXTtcbiAgICAgICAgICAgICAgICBsZXQgeEcgPSAwLjAsIHlHID0gMC4wO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBib25lQ291bnQ7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib25lSW5kZXggPSBpbnRBcnJheVtpQisrXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9uZSA9IGJvbmVzW2JvbmVJbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvbmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IGJvbmUuZ2xvYmFsVHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ID0gZmxvYXRBcnJheVtpVisrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4TCA9IGZsb2F0QXJyYXlbaVYrK10gKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5TCA9IGZsb2F0QXJyYXlbaVYrK10gKiBzY2FsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0RlZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhMICs9IGRlZm9ybVZlcnRpY2VzW2lGKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlMICs9IGRlZm9ybVZlcnRpY2VzW2lGKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB4RyArPSAobWF0cml4LmEgKiB4TCArIG1hdHJpeC5jICogeUwgKyBtYXRyaXgudHgpICogd2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgeUcgKz0gKG1hdHJpeC5iICogeEwgKyBtYXRyaXguZCAqIHlMICsgbWF0cml4LnR5KSAqIHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpXSA9IHhHO1xuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAteUc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzRGVmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBpc1N1cmZhY2UgPSB0aGlzLl9wYXJlbnQuX2JvbmVEYXRhLnR5cGUgIT09IEJvbmVUeXBlLkJvbmU7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdmVydGljZXNEYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGRhdGEuaW50QXJyYXk7XG4gICAgICAgICAgICBjb25zdCBmbG9hdEFycmF5ID0gZGF0YS5mbG9hdEFycmF5O1xuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhDb3VudF07XG4gICAgICAgICAgICBsZXQgdmVydGV4T2Zmc2V0ID0gaW50QXJyYXlbdmVydGljZXNEYXRhLm9mZnNldCArIEJpbmFyeU9mZnNldC5NZXNoRmxvYXRPZmZzZXRdO1xuXG4gICAgICAgICAgICBpZiAodmVydGV4T2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIHZlcnRleE9mZnNldCArPSA2NTUzNjsgLy8gRml4ZWQgb3V0IG9mIGJvdWRzIGJ1Zy4gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdmVydGV4Q291bnQsIGx2aSA9IDA7IGkgPCBsOyBpICsrLCBsdmkgKz0gNCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBmbG9hdEFycmF5W3ZlcnRleE9mZnNldCArIGkqMl0gKiBzY2FsZSArIGRlZm9ybVZlcnRpY2VzW2kqMl07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGZsb2F0QXJyYXlbdmVydGV4T2Zmc2V0ICsgaSoyICsgMV0gKiBzY2FsZSArIGRlZm9ybVZlcnRpY2VzW2kqMiArIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3VyZmFjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9wYXJlbnQuX2dldEdsb2JhbFRyYW5zZm9ybU1hdHJpeCh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmldID0gbWF0cml4LmEgKiB4ICsgbWF0cml4LmMgKiB5ICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW2x2aSArIDFdID0gLW1hdHJpeC5iICogeCArIG1hdHJpeC5kICogeSArIG1hdHJpeC50eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpXSA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAteTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2VpZ2h0RGF0YSkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlUcmFuc2Zvcm0oKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfaWRlbnRpdHlUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGxldCBtID0gdGhpcy5fbWF0cml4Lm07XG4gICAgICAgIG1bMF0gPSAxLjA7XG4gICAgICAgIG1bMV0gPSAwLjA7XG4gICAgICAgIG1bNF0gPSAtMC4wO1xuICAgICAgICBtWzVdID0gLTEuMDtcbiAgICAgICAgbVsxMl0gPSAwLjA7XG4gICAgICAgIG1bMTNdID0gMC4wO1xuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZVRyYW5zZm9ybSAoKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5fbWF0cml4O1xuICAgICAgICBsZXQgdG0gPSB0Lm07XG4gICAgICAgIHRtWzBdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYTtcbiAgICAgICAgdG1bMV0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5iO1xuICAgICAgICB0bVs0XSA9IC10aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5jO1xuICAgICAgICB0bVs1XSA9IC10aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5kO1xuXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZEFybWF0dXJlKSB7XG4gICAgICAgICAgICB0bVsxMl0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eDtcbiAgICAgICAgICAgIHRtWzEzXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LnR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG1bMTJdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHggLSAodGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYSAqIHRoaXMuX3Bpdm90WCAtIHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmMgKiB0aGlzLl9waXZvdFkpO1xuICAgICAgICAgICAgdG1bMTNdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHkgLSAodGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYiAqIHRoaXMuX3Bpdm90WCAtIHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmQgKiB0aGlzLl9waXZvdFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICB1cGRhdGVXb3JsZE1hdHJpeCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYXJtYXR1cmUpIHJldHVybjtcblxuICAgICAgICB2YXIgcGFyZW50U2xvdCA9IHRoaXMuX2FybWF0dXJlLl9wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnRTbG90KSB7XG4gICAgICAgICAgICBwYXJlbnRTbG90LnVwZGF0ZVdvcmxkTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd29ybGRNYXRyaXhEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxXb3JsZE1hdHJpeCgpO1xuICAgICAgICAgICAgdmFyIGNoaWxkQXJtYXR1cmUgPSB0aGlzLmNoaWxkQXJtYXR1cmU7XG4gICAgICAgICAgICBpZiAoIWNoaWxkQXJtYXR1cmUpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBzbG90cyA9IGNoaWxkQXJtYXR1cmUuZ2V0U2xvdHMoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLG4gPSBzbG90cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc2xvdCA9IHNsb3RzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzbG90KSB7XG4gICAgICAgICAgICAgICAgICAgIHNsb3QuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfbXVsTWF0IChvdXQsIGEsIGIpIHtcbiAgICAgICAgbGV0IGFtID0gYS5tLCBibSA9IGIubSwgb3V0bSA9IG91dC5tO1xuICAgICAgICBsZXQgYWE9YW1bMF0sIGFiPWFtWzFdLCBhYz1hbVs0XSwgYWQ9YW1bNV0sIGF0eD1hbVsxMl0sIGF0eT1hbVsxM107XG4gICAgICAgIGxldCBiYT1ibVswXSwgYmI9Ym1bMV0sIGJjPWJtWzRdLCBiZD1ibVs1XSwgYnR4PWJtWzEyXSwgYnR5PWJtWzEzXTtcbiAgICAgICAgaWYgKGFiICE9PSAwIHx8IGFjICE9PSAwKSB7XG4gICAgICAgICAgICBvdXRtWzBdID0gYmEgKiBhYSArIGJiICogYWM7XG4gICAgICAgICAgICBvdXRtWzFdID0gYmEgKiBhYiArIGJiICogYWQ7XG4gICAgICAgICAgICBvdXRtWzRdID0gYmMgKiBhYSArIGJkICogYWM7XG4gICAgICAgICAgICBvdXRtWzVdID0gYmMgKiBhYiArIGJkICogYWQ7XG4gICAgICAgICAgICBvdXRtWzEyXSA9IGFhICogYnR4ICsgYWMgKiBidHkgKyBhdHg7XG4gICAgICAgICAgICBvdXRtWzEzXSA9IGFiICogYnR4ICsgYWQgKiBidHkgKyBhdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRtWzBdID0gYmEgKiBhYTtcbiAgICAgICAgICAgIG91dG1bMV0gPSBiYiAqIGFkO1xuICAgICAgICAgICAgb3V0bVs0XSA9IGJjICogYWE7XG4gICAgICAgICAgICBvdXRtWzVdID0gYmQgKiBhZDtcbiAgICAgICAgICAgIG91dG1bMTJdID0gYWEgKiBidHggKyBhdHg7XG4gICAgICAgICAgICBvdXRtWzEzXSA9IGFkICogYnR5ICsgYXR5O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNhbGN1bFdvcmxkTWF0cml4ICgpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuX2FybWF0dXJlLl9wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX211bE1hdCh0aGlzLl93b3JsZE1hdHJpeCAscGFyZW50Ll93b3JsZE1hdHJpeCwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIE1hdDQuY29weSh0aGlzLl93b3JsZE1hdHJpeCwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gZmFsc2U7XG4gICAgfVxufSk7XG4iXX0=