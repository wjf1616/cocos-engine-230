
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/core/physics/CCPolygonSeparator.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

/****************************************************************************
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 https://www.cocos.com/

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated engine source code (the "Software"), a limited,
 worldwide, royalty-free, non-assignable, revocable and non-exclusive license
 to use Cocos Creator solely to develop games on your target platforms. You shall
 not use Cocos Creator software for developing other software or tools that's
 used for developing games. You are not granted to publish, distribute,
 sublicense, and/or sell copies of Cocos Creator.

 The software or tools in this License Agreement are licensed, not sold.
 Xiamen Yaji Software Co., Ltd. reserves all rights not expressly granted to you.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/
// http://answers.unity3d.com/questions/977416/2d-polygon-convex-decomposition-code.html
/// <summary>
/// This class is took from the "FarseerUnity" physics engine, which uses Mark Bayazit's decomposition algorithm.
/// I also have to make it work with self-intersecting polygons, so I'll use another different algorithm to decompose a self-intersecting polygon into several simple polygons,
/// and then I would decompose each of them into convex polygons.
/// </summary>
//From phed rev 36
/// <summary>
/// Convex decomposition algorithm created by Mark Bayazit (http://mnbayazit.com/)
/// For more information about this algorithm, see http://mnbayazit.com/406/bayazit
/// </summary>
function At(i, vertices) {
  var s = vertices.length;
  return vertices[i < 0 ? s - -i % s : i % s];
}

function Copy(i, j, vertices) {
  var p = [];

  while (j < i) {
    j += vertices.length;
  } //p.reserve(j - i + 1);


  for (; i <= j; ++i) {
    p.push(At(i, vertices));
  }

  return p;
} /// <summary>
/// Decompose the polygon into several smaller non-concave polygon.
/// If the polygon is already convex, it will return the original polygon, unless it is over Settings.MaxPolygonVertices.
/// Precondition: Counter Clockwise polygon
/// </summary>
/// <param name="vertices"></param>
/// <returns></returns>


function ConvexPartition(vertices) {
  //We force it to CCW as it is a precondition in this algorithm.
  ForceCounterClockWise(vertices);
  var list = [];
  var d, lowerDist, upperDist;
  var p;
  var lowerInt = cc.v2();
  var upperInt = cc.v2(); // intersection points

  var lowerIndex = 0,
      upperIndex = 0;
  var lowerPoly, upperPoly;

  for (var i = 0; i < vertices.length; ++i) {
    if (Reflex(i, vertices)) {
      lowerDist = upperDist = 10e7; // std::numeric_limits<qreal>::max();

      for (var j = 0; j < vertices.length; ++j) {
        // if line intersects with an edge
        if (Left(At(i - 1, vertices), At(i, vertices), At(j, vertices)) && RightOn(At(i - 1, vertices), At(i, vertices), At(j - 1, vertices))) {
          // find the povar of intersection
          p = LineIntersect(At(i - 1, vertices), At(i, vertices), At(j, vertices), At(j - 1, vertices));

          if (Right(At(i + 1, vertices), At(i, vertices), p)) {
            // make sure it's inside the poly
            d = SquareDist(At(i, vertices), p);

            if (d < lowerDist) {
              // keep only the closest intersection
              lowerDist = d;
              lowerInt = p;
              lowerIndex = j;
            }
          }
        }

        if (Left(At(i + 1, vertices), At(i, vertices), At(j + 1, vertices)) && RightOn(At(i + 1, vertices), At(i, vertices), At(j, vertices))) {
          p = LineIntersect(At(i + 1, vertices), At(i, vertices), At(j, vertices), At(j + 1, vertices));

          if (Left(At(i - 1, vertices), At(i, vertices), p)) {
            d = SquareDist(At(i, vertices), p);

            if (d < upperDist) {
              upperDist = d;
              upperIndex = j;
              upperInt = p;
            }
          }
        }
      } // if there are no vertices to connect to, choose a povar in the middle


      if (lowerIndex == (upperIndex + 1) % vertices.length) {
        var sp = lowerInt.add(upperInt).div(2);
        lowerPoly = Copy(i, upperIndex, vertices);
        lowerPoly.push(sp);
        upperPoly = Copy(lowerIndex, i, vertices);
        upperPoly.push(sp);
      } else {
        var highestScore = 0,
            bestIndex = lowerIndex;

        while (upperIndex < lowerIndex) {
          upperIndex += vertices.length;
        }

        for (var j = lowerIndex; j <= upperIndex; ++j) {
          if (CanSee(i, j, vertices)) {
            var score = 1 / (SquareDist(At(i, vertices), At(j, vertices)) + 1);

            if (Reflex(j, vertices)) {
              if (RightOn(At(j - 1, vertices), At(j, vertices), At(i, vertices)) && LeftOn(At(j + 1, vertices), At(j, vertices), At(i, vertices))) {
                score += 3;
              } else {
                score += 2;
              }
            } else {
              score += 1;
            }

            if (score > highestScore) {
              bestIndex = j;
              highestScore = score;
            }
          }
        }

        lowerPoly = Copy(i, bestIndex, vertices);
        upperPoly = Copy(bestIndex, i, vertices);
      }

      list = list.concat(ConvexPartition(lowerPoly));
      list = list.concat(ConvexPartition(upperPoly));
      return list;
    }
  } // polygon is already convex


  list.push(vertices); //Remove empty vertice collections

  for (var i = list.length - 1; i >= 0; i--) {
    if (list[i].length == 0) list.splice(i, 0);
  }

  return list;
}

function CanSee(i, j, vertices) {
  if (Reflex(i, vertices)) {
    if (LeftOn(At(i, vertices), At(i - 1, vertices), At(j, vertices)) && RightOn(At(i, vertices), At(i + 1, vertices), At(j, vertices))) return false;
  } else {
    if (RightOn(At(i, vertices), At(i + 1, vertices), At(j, vertices)) || LeftOn(At(i, vertices), At(i - 1, vertices), At(j, vertices))) return false;
  }

  if (Reflex(j, vertices)) {
    if (LeftOn(At(j, vertices), At(j - 1, vertices), At(i, vertices)) && RightOn(At(j, vertices), At(j + 1, vertices), At(i, vertices))) return false;
  } else {
    if (RightOn(At(j, vertices), At(j + 1, vertices), At(i, vertices)) || LeftOn(At(j, vertices), At(j - 1, vertices), At(i, vertices))) return false;
  }

  for (var k = 0; k < vertices.length; ++k) {
    if ((k + 1) % vertices.length == i || k == i || (k + 1) % vertices.length == j || k == j) {
      continue; // ignore incident edges
    }

    var intersectionPoint = cc.v2();

    if (LineIntersect2(At(i, vertices), At(j, vertices), At(k, vertices), At(k + 1, vertices), intersectionPoint)) {
      return false;
    }
  }

  return true;
} // precondition: ccw


function Reflex(i, vertices) {
  return Right(i, vertices);
}

function Right(a, b, c) {
  if (typeof c === 'undefined') {
    var i = a,
        vertices = b;
    a = At(i - 1, vertices);
    b = At(i, vertices);
    c = At(i + 1, vertices);
  }

  return Area(a, b, c) < 0;
}

function Left(a, b, c) {
  return Area(a, b, c) > 0;
}

function LeftOn(a, b, c) {
  return Area(a, b, c) >= 0;
}

function RightOn(a, b, c) {
  return Area(a, b, c) <= 0;
}

function SquareDist(a, b) {
  var dx = b.x - a.x;
  var dy = b.y - a.y;
  return dx * dx + dy * dy;
} //forces counter clock wise order.


function ForceCounterClockWise(vertices) {
  if (!IsCounterClockWise(vertices)) {
    vertices.reverse();
  }
}

function IsCounterClockWise(vertices) {
  //We just return true for lines
  if (vertices.length < 3) return true;
  return GetSignedArea(vertices) > 0;
} //gets the signed area.


function GetSignedArea(vertices) {
  var i;
  var area = 0;

  for (i = 0; i < vertices.length; i++) {
    var j = (i + 1) % vertices.length;
    area += vertices[i].x * vertices[j].y;
    area -= vertices[i].y * vertices[j].x;
  }

  area /= 2;
  return area;
} //From Mark Bayazit's convex decomposition algorithm


function LineIntersect(p1, p2, q1, q2) {
  var i = cc.v2();
  var a1 = p2.y - p1.y;
  var b1 = p1.x - p2.x;
  var c1 = a1 * p1.x + b1 * p1.y;
  var a2 = q2.y - q1.y;
  var b2 = q1.x - q2.x;
  var c2 = a2 * q1.x + b2 * q1.y;
  var det = a1 * b2 - a2 * b1;

  if (!FloatEquals(det, 0)) {
    // lines are not parallel
    i.x = (b2 * c1 - b1 * c2) / det;
    i.y = (a1 * c2 - a2 * c1) / det;
  }

  return i;
} //from Eric Jordan's convex decomposition library, it checks if the lines a0->a1 and b0->b1 cross.
//if they do, intersectionPovar will be filled with the povar of crossing. Grazing lines should not return true.


function LineIntersect2(a0, a1, b0, b1, intersectionPoint) {
  if (a0 == b0 || a0 == b1 || a1 == b0 || a1 == b1) return false;
  var x1 = a0.x;
  var y1 = a0.y;
  var x2 = a1.x;
  var y2 = a1.y;
  var x3 = b0.x;
  var y3 = b0.y;
  var x4 = b1.x;
  var y4 = b1.y; //AABB early exit

  if (Math.max(x1, x2) < Math.min(x3, x4) || Math.max(x3, x4) < Math.min(x1, x2)) return false;
  if (Math.max(y1, y2) < Math.min(y3, y4) || Math.max(y3, y4) < Math.min(y1, y2)) return false;
  var ua = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);
  var ub = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);
  var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);

  if (Math.abs(denom) < 10e-7) {
    //Lines are too close to parallel to call
    return false;
  }

  ua /= denom;
  ub /= denom;

  if (0 < ua && ua < 1 && 0 < ub && ub < 1) {
    intersectionPoint.x = x1 + ua * (x2 - x1);
    intersectionPoint.y = y1 + ua * (y2 - y1);
    return true;
  }

  return false;
}

function FloatEquals(value1, value2) {
  return Math.abs(value1 - value2) <= 10e-7;
} //returns a positive number if c is to the left of the line going from a to b. Positive number if povar is left, negative if povar is right, and 0 if points are collinear.</returns>


function Area(a, b, c) {
  return a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - b.y);
}

module.exports = {
  ConvexPartition: ConvexPartition,
  ForceCounterClockWise: ForceCounterClockWise,
  IsCounterClockWise: IsCounterClockWise
};
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNDUG9seWdvblNlcGFyYXRvci5qcyJdLCJuYW1lcyI6WyJBdCIsImkiLCJ2ZXJ0aWNlcyIsInMiLCJsZW5ndGgiLCJDb3B5IiwiaiIsInAiLCJwdXNoIiwiQ29udmV4UGFydGl0aW9uIiwiRm9yY2VDb3VudGVyQ2xvY2tXaXNlIiwibGlzdCIsImQiLCJsb3dlckRpc3QiLCJ1cHBlckRpc3QiLCJsb3dlckludCIsImNjIiwidjIiLCJ1cHBlckludCIsImxvd2VySW5kZXgiLCJ1cHBlckluZGV4IiwibG93ZXJQb2x5IiwidXBwZXJQb2x5IiwiUmVmbGV4IiwiTGVmdCIsIlJpZ2h0T24iLCJMaW5lSW50ZXJzZWN0IiwiUmlnaHQiLCJTcXVhcmVEaXN0Iiwic3AiLCJhZGQiLCJkaXYiLCJoaWdoZXN0U2NvcmUiLCJiZXN0SW5kZXgiLCJDYW5TZWUiLCJzY29yZSIsIkxlZnRPbiIsImNvbmNhdCIsInNwbGljZSIsImsiLCJpbnRlcnNlY3Rpb25Qb2ludCIsIkxpbmVJbnRlcnNlY3QyIiwiYSIsImIiLCJjIiwiQXJlYSIsImR4IiwieCIsImR5IiwieSIsIklzQ291bnRlckNsb2NrV2lzZSIsInJldmVyc2UiLCJHZXRTaWduZWRBcmVhIiwiYXJlYSIsInAxIiwicDIiLCJxMSIsInEyIiwiYTEiLCJiMSIsImMxIiwiYTIiLCJiMiIsImMyIiwiZGV0IiwiRmxvYXRFcXVhbHMiLCJhMCIsImIwIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJ1YSIsInViIiwiZGVub20iLCJhYnMiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsU0FBU0EsRUFBVCxDQUFZQyxDQUFaLEVBQWVDLFFB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QU9SLElBQUksQ0FBQ00sR0FBTCxDQUFTQyxNQUFNLEdBQUdDLE1BQWxCLEtBQTZCLEtBQXBDO0FBQ0gsRUFHRDs7O0FBQ0EsU0FBU3ZDLElBQVQsQ0FBY0gsQ0FBZCxFQUFpQkMsQ0FBakIsRUFBb0JDLENBQXBCLEVBQXVCO0FBQ25CLFNBQU9GLENBQUMsQ0FBQ0ssQ0FBRixJQUFPSixDQUFDLENBQUNNLENBQUYsR0FBTUwsQ0FBQyxDQUFDSyxDQUFmLElBQW9CTixDQUFDLENBQUNJLENBQUYsSUFBT0gsQ0FBQyxDQUFDSyxDQUFGLEdBQU1QLENBQUMsQ0FBQ08sQ0FBZixDQUFwQixHQUF3Q0wsQ0FBQyxDQUFDRyxDQUFGLElBQU9MLENBQUMsQ0FBQ08sQ0FBRixHQUFNTixDQUFDLENBQUNNLENBQWYsQ0FBL0M7QUFDSDs7QUFFRG9DLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiN0UsRUFBQUEsZUFBZSxFQUFFQSxlQURKO0FBRWJDLEVBQUFBLHFCQUFxQixFQUFFQSxxQkFGVjtBQUdid0MsRUFBQUEsa0JBQWtCLEVBQUVBO0FBSFAsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xuXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxuIG5vdCB1c2UgQ29jb3MgQ3JlYXRvciBzb2Z0d2FyZSBmb3IgZGV2ZWxvcGluZyBvdGhlciBzb2Z0d2FyZSBvciB0b29scyB0aGF0J3NcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXG5cbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vLyBodHRwOi8vYW5zd2Vycy51bml0eTNkLmNvbS9xdWVzdGlvbnMvOTc3NDE2LzJkLXBvbHlnb24tY29udmV4LWRlY29tcG9zaXRpb24tY29kZS5odG1sXG5cbi8vLyA8c3VtbWFyeT5cbi8vLyBUaGlzIGNsYXNzIGlzIHRvb2sgZnJvbSB0aGUgXCJGYXJzZWVyVW5pdHlcIiBwaHlzaWNzIGVuZ2luZSwgd2hpY2ggdXNlcyBNYXJrIEJheWF6aXQncyBkZWNvbXBvc2l0aW9uIGFsZ29yaXRobS5cbi8vLyBJIGFsc28gaGF2ZSB0byBtYWtlIGl0IHdvcmsgd2l0aCBzZWxmLWludGVyc2VjdGluZyBwb2x5Z29ucywgc28gSSdsbCB1c2UgYW5vdGhlciBkaWZmZXJlbnQgYWxnb3JpdGhtIHRvIGRlY29tcG9zZSBhIHNlbGYtaW50ZXJzZWN0aW5nIHBvbHlnb24gaW50byBzZXZlcmFsIHNpbXBsZSBwb2x5Z29ucyxcbi8vLyBhbmQgdGhlbiBJIHdvdWxkIGRlY29tcG9zZSBlYWNoIG9mIHRoZW0gaW50byBjb252ZXggcG9seWdvbnMuXG4vLy8gPC9zdW1tYXJ5PlxuXG4vL0Zyb20gcGhlZCByZXYgMzZcblxuLy8vIDxzdW1tYXJ5PlxuLy8vIENvbnZleCBkZWNvbXBvc2l0aW9uIGFsZ29yaXRobSBjcmVhdGVkIGJ5IE1hcmsgQmF5YXppdCAoaHR0cDovL21uYmF5YXppdC5jb20vKVxuLy8vIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgYWxnb3JpdGhtLCBzZWUgaHR0cDovL21uYmF5YXppdC5jb20vNDA2L2JheWF6aXRcbi8vLyA8L3N1bW1hcnk+XG4gXG5mdW5jdGlvbiBBdChpLCB2ZXJ0aWNlcykge1xuICAgIHZhciBzID0gdmVydGljZXMubGVuZ3RoO1xuICAgIHJldHVybiB2ZXJ0aWNlc1tpIDwgMCA/IHMgLSAoLWkgJSBzKSA6IGkgJSBzXTtcbn1cblxuZnVuY3Rpb24gQ29weShpLCBqLCB2ZXJ0aWNlcykge1xuICAgIHZhciBwID0gW107XG4gICAgd2hpbGUgKGogPCBpKSBqICs9IHZlcnRpY2VzLmxlbmd0aDtcbiAgICAvL3AucmVzZXJ2ZShqIC0gaSArIDEpO1xuICAgIGZvciAoOyBpIDw9IGo7ICsraSlcbiAgICB7XG4gICAgICAgIHAucHVzaChBdChpLCB2ZXJ0aWNlcykpO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuLy8vIDxzdW1tYXJ5PlxuLy8vIERlY29tcG9zZSB0aGUgcG9seWdvbiBpbnRvIHNldmVyYWwgc21hbGxlciBub24tY29uY2F2ZSBwb2x5Z29uLlxuLy8vIElmIHRoZSBwb2x5Z29uIGlzIGFscmVhZHkgY29udmV4LCBpdCB3aWxsIHJldHVybiB0aGUgb3JpZ2luYWwgcG9seWdvbiwgdW5sZXNzIGl0IGlzIG92ZXIgU2V0dGluZ3MuTWF4UG9seWdvblZlcnRpY2VzLlxuLy8vIFByZWNvbmRpdGlvbjogQ291bnRlciBDbG9ja3dpc2UgcG9seWdvblxuLy8vIDwvc3VtbWFyeT5cbi8vLyA8cGFyYW0gbmFtZT1cInZlcnRpY2VzXCI+PC9wYXJhbT5cbi8vLyA8cmV0dXJucz48L3JldHVybnM+XG5mdW5jdGlvbiBDb252ZXhQYXJ0aXRpb24odmVydGljZXMpIHtcbiAgICAvL1dlIGZvcmNlIGl0IHRvIENDVyBhcyBpdCBpcyBhIHByZWNvbmRpdGlvbiBpbiB0aGlzIGFsZ29yaXRobS5cbiAgICBGb3JjZUNvdW50ZXJDbG9ja1dpc2UgKHZlcnRpY2VzKTtcbiAgICBcbiAgICB2YXIgbGlzdCA9IFtdO1xuICAgIHZhciBkLCBsb3dlckRpc3QsIHVwcGVyRGlzdDtcbiAgICB2YXIgcDtcbiAgICB2YXIgbG93ZXJJbnQgPSBjYy52MigpO1xuICAgIHZhciB1cHBlckludCA9IGNjLnYyKCk7IC8vIGludGVyc2VjdGlvbiBwb2ludHNcbiAgICB2YXIgbG93ZXJJbmRleCA9IDAsIHVwcGVySW5kZXggPSAwO1xuICAgIHZhciBsb3dlclBvbHksIHVwcGVyUG9seTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChSZWZsZXgoaSwgdmVydGljZXMpKSB7XG4gICAgICAgICAgICBsb3dlckRpc3QgPSB1cHBlckRpc3QgPSAxMGU3OyAvLyBzdGQ6Om51bWVyaWNfbGltaXRzPHFyZWFsPjo6bWF4KCk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZlcnRpY2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbGluZSBpbnRlcnNlY3RzIHdpdGggYW4gZWRnZVxuICAgICAgICAgICAgICAgIGlmIChMZWZ0KEF0KGkgLSAxLCB2ZXJ0aWNlcyksIEF0KGksIHZlcnRpY2VzKSwgQXQoaiwgdmVydGljZXMpKSAmJlxuICAgICAgICAgICAgICAgICAgICBSaWdodE9uKEF0KGkgLSAxLCB2ZXJ0aWNlcyksIEF0KGksIHZlcnRpY2VzKSwgQXQoaiAtIDEsIHZlcnRpY2VzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgcG92YXIgb2YgaW50ZXJzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHAgPSBMaW5lSW50ZXJzZWN0KEF0KGkgLSAxLCB2ZXJ0aWNlcyksIEF0KGksIHZlcnRpY2VzKSwgQXQoaiwgdmVydGljZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXQoaiAtIDEsIHZlcnRpY2VzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSaWdodChBdChpICsgMSwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcyksIHApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXQncyBpbnNpZGUgdGhlIHBvbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBTcXVhcmVEaXN0KEF0KGksIHZlcnRpY2VzKSwgcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IGxvd2VyRGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgb25seSB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckRpc3QgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VySW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoTGVmdChBdChpICsgMSwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcyksIEF0KGogKyAxLCB2ZXJ0aWNlcykpICYmXG4gICAgICAgICAgICAgICAgICAgIFJpZ2h0T24oQXQoaSArIDEsIHZlcnRpY2VzKSwgQXQoaSwgdmVydGljZXMpLCBBdChqLCB2ZXJ0aWNlcykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBMaW5lSW50ZXJzZWN0KEF0KGkgKyAxLCB2ZXJ0aWNlcyksIEF0KGksIHZlcnRpY2VzKSwgQXQoaiwgdmVydGljZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXQoaiArIDEsIHZlcnRpY2VzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChMZWZ0KEF0KGkgLSAxLCB2ZXJ0aWNlcyksIEF0KGksIHZlcnRpY2VzKSwgcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBTcXVhcmVEaXN0KEF0KGksIHZlcnRpY2VzKSwgcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IHVwcGVyRGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyRGlzdCA9IGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJJbnQgPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gdmVydGljZXMgdG8gY29ubmVjdCB0bywgY2hvb3NlIGEgcG92YXIgaW4gdGhlIG1pZGRsZVxuICAgICAgICAgICAgaWYgKGxvd2VySW5kZXggPT0gKHVwcGVySW5kZXggKyAxKSAlIHZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBzcCA9IGxvd2VySW50LmFkZCh1cHBlckludCkuZGl2KDIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxvd2VyUG9seSA9IENvcHkoaSwgdXBwZXJJbmRleCwgdmVydGljZXMpO1xuICAgICAgICAgICAgICAgIGxvd2VyUG9seS5wdXNoKHNwKTtcbiAgICAgICAgICAgICAgICB1cHBlclBvbHkgPSBDb3B5KGxvd2VySW5kZXgsIGksIHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB1cHBlclBvbHkucHVzaChzcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaGVzdFNjb3JlID0gMCwgYmVzdEluZGV4ID0gbG93ZXJJbmRleDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGlsZSAodXBwZXJJbmRleCA8IGxvd2VySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJJbmRleCArPSB2ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGxvd2VySW5kZXg7IGogPD0gdXBwZXJJbmRleDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDYW5TZWUoaSwgaiwgdmVydGljZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NvcmUgPSAxIC8gKFNxdWFyZURpc3QoQXQoaSwgdmVydGljZXMpLCBBdChqLCB2ZXJ0aWNlcykpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmVmbGV4KGosIHZlcnRpY2VzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSaWdodE9uKEF0KGogLSAxLCB2ZXJ0aWNlcyksIEF0KGosIHZlcnRpY2VzKSwgQXQoaSwgdmVydGljZXMpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMZWZ0T24oQXQoaiArIDEsIHZlcnRpY2VzKSwgQXQoaiwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IGhpZ2hlc3RTY29yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG93ZXJQb2x5ID0gQ29weShpLCBiZXN0SW5kZXgsIHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB1cHBlclBvbHkgPSBDb3B5KGJlc3RJbmRleCwgaSwgdmVydGljZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KCBDb252ZXhQYXJ0aXRpb24obG93ZXJQb2x5KSApO1xuICAgICAgICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KCBDb252ZXhQYXJ0aXRpb24odXBwZXJQb2x5KSApO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gcG9seWdvbiBpcyBhbHJlYWR5IGNvbnZleFxuICAgIGxpc3QucHVzaCh2ZXJ0aWNlcyk7XG4gICAgXG4gICAgLy9SZW1vdmUgZW1wdHkgdmVydGljZSBjb2xsZWN0aW9uc1xuICAgIGZvciAodmFyIGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGxpc3RbaV0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICBsaXN0LnNwbGljZShpLCAwKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbmZ1bmN0aW9uIENhblNlZShpLCBqLCB2ZXJ0aWNlcykge1xuICAgIGlmIChSZWZsZXgoaSwgdmVydGljZXMpKSB7XG4gICAgICAgIGlmIChMZWZ0T24oQXQoaSwgdmVydGljZXMpLCBBdChpIC0gMSwgdmVydGljZXMpLCBBdChqLCB2ZXJ0aWNlcykpICYmXG4gICAgICAgICAgICBSaWdodE9uKEF0KGksIHZlcnRpY2VzKSwgQXQoaSArIDEsIHZlcnRpY2VzKSwgQXQoaiwgdmVydGljZXMpKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKFJpZ2h0T24oQXQoaSwgdmVydGljZXMpLCBBdChpICsgMSwgdmVydGljZXMpLCBBdChqLCB2ZXJ0aWNlcykpIHx8XG4gICAgICAgICAgICBMZWZ0T24oQXQoaSwgdmVydGljZXMpLCBBdChpIC0gMSwgdmVydGljZXMpLCBBdChqLCB2ZXJ0aWNlcykpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChSZWZsZXgoaiwgdmVydGljZXMpKSB7XG4gICAgICAgIGlmIChMZWZ0T24oQXQoaiwgdmVydGljZXMpLCBBdChqIC0gMSwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcykpICYmXG4gICAgICAgICAgICBSaWdodE9uKEF0KGosIHZlcnRpY2VzKSwgQXQoaiArIDEsIHZlcnRpY2VzKSwgQXQoaSwgdmVydGljZXMpKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKFJpZ2h0T24oQXQoaiwgdmVydGljZXMpLCBBdChqICsgMSwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcykpIHx8XG4gICAgICAgICAgICBMZWZ0T24oQXQoaiwgdmVydGljZXMpLCBBdChqIC0gMSwgdmVydGljZXMpLCBBdChpLCB2ZXJ0aWNlcykpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdmVydGljZXMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgaWYgKChrICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGggPT0gaSB8fCBrID09IGkgfHwgKGsgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aCA9PSBqIHx8IGsgPT0gailcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGludWU7IC8vIGlnbm9yZSBpbmNpZGVudCBlZGdlc1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnRlcnNlY3Rpb25Qb2ludCA9IGNjLnYyKCk7XG4gICAgICAgIGlmIChMaW5lSW50ZXJzZWN0MihBdChpLCB2ZXJ0aWNlcyksIEF0KGosIHZlcnRpY2VzKSwgQXQoaywgdmVydGljZXMpLCBBdChrICsgMSwgdmVydGljZXMpLCBpbnRlcnNlY3Rpb25Qb2ludCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gcHJlY29uZGl0aW9uOiBjY3dcbmZ1bmN0aW9uIFJlZmxleChpLCB2ZXJ0aWNlcykge1xuICAgIHJldHVybiBSaWdodChpLCB2ZXJ0aWNlcyk7XG59XG5cbmZ1bmN0aW9uIFJpZ2h0KGEsIGIsIGMpIHtcbiAgICBpZiAodHlwZW9mIGMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpID0gYSwgdmVydGljZXMgPSBiO1xuXG4gICAgICAgIGEgPSBBdChpIC0gMSwgdmVydGljZXMpO1xuICAgICAgICBiID0gQXQoaSwgdmVydGljZXMpO1xuICAgICAgICBjID0gQXQoaSArIDEsIHZlcnRpY2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJlYShhLCBiLCBjKSA8IDA7XG59XG5cbmZ1bmN0aW9uIExlZnQoYSwgYiwgYykge1xuICAgIHJldHVybiBBcmVhKGEsIGIsIGMpID4gMDtcbn1cblxuZnVuY3Rpb24gTGVmdE9uKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gQXJlYShhLCBiLCBjKSA+PSAwO1xufVxuXG5cbmZ1bmN0aW9uIFJpZ2h0T24oYSwgYiwgYykge1xuICAgIHJldHVybiBBcmVhKGEsIGIsIGMpIDw9IDA7XG59XG5cbmZ1bmN0aW9uIFNxdWFyZURpc3QoYSwgYikge1xuICAgIHZhciBkeCA9IGIueCAtIGEueDtcbiAgICB2YXIgZHkgPSBiLnkgLSBhLnk7XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufVxuXG4vL2ZvcmNlcyBjb3VudGVyIGNsb2NrIHdpc2Ugb3JkZXIuXG5mdW5jdGlvbiBGb3JjZUNvdW50ZXJDbG9ja1dpc2UodmVydGljZXMpIHtcbiAgICBpZiAoIUlzQ291bnRlckNsb2NrV2lzZSh2ZXJ0aWNlcykpIHtcbiAgICAgICAgdmVydGljZXMucmV2ZXJzZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gSXNDb3VudGVyQ2xvY2tXaXNlKHZlcnRpY2VzKSB7XG4gICAgLy9XZSBqdXN0IHJldHVybiB0cnVlIGZvciBsaW5lc1xuICAgIGlmICh2ZXJ0aWNlcy5sZW5ndGggPCAzKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBcbiAgICByZXR1cm4gKEdldFNpZ25lZEFyZWEodmVydGljZXMpID4gMCk7XG59XG5cbi8vZ2V0cyB0aGUgc2lnbmVkIGFyZWEuXG5mdW5jdGlvbiBHZXRTaWduZWRBcmVhKHZlcnRpY2VzKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGFyZWEgPSAwO1xuICAgIFxuICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaiA9IChpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgIGFyZWEgKz0gdmVydGljZXNbaV0ueCAqIHZlcnRpY2VzW2pdLnk7XG4gICAgICAgIGFyZWEgLT0gdmVydGljZXNbaV0ueSAqIHZlcnRpY2VzW2pdLng7XG4gICAgfVxuICAgIGFyZWEgLz0gMjtcbiAgICByZXR1cm4gYXJlYTtcbn1cblxuLy9Gcm9tIE1hcmsgQmF5YXppdCdzIGNvbnZleCBkZWNvbXBvc2l0aW9uIGFsZ29yaXRobVxuZnVuY3Rpb24gTGluZUludGVyc2VjdChwMSwgcDIsIHExLCBxMikge1xuICAgIHZhciBpID0gY2MudjIoKTtcbiAgICB2YXIgYTEgPSBwMi55IC0gcDEueTtcbiAgICB2YXIgYjEgPSBwMS54IC0gcDIueDtcbiAgICB2YXIgYzEgPSBhMSAqIHAxLnggKyBiMSAqIHAxLnk7XG4gICAgdmFyIGEyID0gcTIueSAtIHExLnk7XG4gICAgdmFyIGIyID0gcTEueCAtIHEyLng7XG4gICAgdmFyIGMyID0gYTIgKiBxMS54ICsgYjIgKiBxMS55O1xuICAgIHZhciBkZXQgPSBhMSAqIGIyIC0gYTIgKiBiMTtcbiAgICBcbiAgICBpZiAoIUZsb2F0RXF1YWxzKGRldCwgMCkpIHtcbiAgICAgICAgLy8gbGluZXMgYXJlIG5vdCBwYXJhbGxlbFxuICAgICAgICBpLnggPSAoYjIgKiBjMSAtIGIxICogYzIpIC8gZGV0O1xuICAgICAgICBpLnkgPSAoYTEgKiBjMiAtIGEyICogYzEpIC8gZGV0O1xuICAgIH1cbiAgICByZXR1cm4gaTtcbn1cblxuLy9mcm9tIEVyaWMgSm9yZGFuJ3MgY29udmV4IGRlY29tcG9zaXRpb24gbGlicmFyeSwgaXQgY2hlY2tzIGlmIHRoZSBsaW5lcyBhMC0+YTEgYW5kIGIwLT5iMSBjcm9zcy5cbi8vaWYgdGhleSBkbywgaW50ZXJzZWN0aW9uUG92YXIgd2lsbCBiZSBmaWxsZWQgd2l0aCB0aGUgcG92YXIgb2YgY3Jvc3NpbmcuIEdyYXppbmcgbGluZXMgc2hvdWxkIG5vdCByZXR1cm4gdHJ1ZS5cbmZ1bmN0aW9uIExpbmVJbnRlcnNlY3QyKGEwLCBhMSwgYjAsIGIxLCBpbnRlcnNlY3Rpb25Qb2ludCkge1xuICAgIGlmIChhMCA9PSBiMCB8fCBhMCA9PSBiMSB8fCBhMSA9PSBiMCB8fCBhMSA9PSBiMSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIHZhciB4MSA9IGEwLng7XG4gICAgdmFyIHkxID0gYTAueTtcbiAgICB2YXIgeDIgPSBhMS54O1xuICAgIHZhciB5MiA9IGExLnk7XG4gICAgdmFyIHgzID0gYjAueDtcbiAgICB2YXIgeTMgPSBiMC55O1xuICAgIHZhciB4NCA9IGIxLng7XG4gICAgdmFyIHk0ID0gYjEueTtcbiAgICBcbiAgICAvL0FBQkIgZWFybHkgZXhpdFxuICAgIGlmIChNYXRoLm1heCh4MSwgeDIpIDwgTWF0aC5taW4oeDMsIHg0KSB8fCBNYXRoLm1heCh4MywgeDQpIDwgTWF0aC5taW4oeDEsIHgyKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGlmIChNYXRoLm1heCh5MSwgeTIpIDwgTWF0aC5taW4oeTMsIHk0KSB8fCBNYXRoLm1heCh5MywgeTQpIDwgTWF0aC5taW4oeTEsIHkyKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIHZhciB1YSA9ICgoeDQgLSB4MykgKiAoeTEgLSB5MykgLSAoeTQgLSB5MykgKiAoeDEgLSB4MykpO1xuICAgIHZhciB1YiA9ICgoeDIgLSB4MSkgKiAoeTEgLSB5MykgLSAoeTIgLSB5MSkgKiAoeDEgLSB4MykpO1xuICAgIHZhciBkZW5vbSA9ICh5NCAtIHkzKSAqICh4MiAtIHgxKSAtICh4NCAtIHgzKSAqICh5MiAtIHkxKTtcbiAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMTBlLTcpIHtcbiAgICAgICAgLy9MaW5lcyBhcmUgdG9vIGNsb3NlIHRvIHBhcmFsbGVsIHRvIGNhbGxcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1YSAvPSBkZW5vbTtcbiAgICB1YiAvPSBkZW5vbTtcbiAgICBcbiAgICBpZiAoKDAgPCB1YSkgJiYgKHVhIDwgMSkgJiYgKDAgPCB1YikgJiYgKHViIDwgMSkpIHtcbiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQueCA9ICh4MSArIHVhICogKHgyIC0geDEpKTtcbiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQueSA9ICh5MSArIHVhICogKHkyIC0geTEpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gRmxvYXRFcXVhbHModmFsdWUxLCB2YWx1ZTIpIHtcbiAgICByZXR1cm4gTWF0aC5hYnModmFsdWUxIC0gdmFsdWUyKSA8PSAxMGUtNztcbn1cblxuXG4vL3JldHVybnMgYSBwb3NpdGl2ZSBudW1iZXIgaWYgYyBpcyB0byB0aGUgbGVmdCBvZiB0aGUgbGluZSBnb2luZyBmcm9tIGEgdG8gYi4gUG9zaXRpdmUgbnVtYmVyIGlmIHBvdmFyIGlzIGxlZnQsIG5lZ2F0aXZlIGlmIHBvdmFyIGlzIHJpZ2h0LCBhbmQgMCBpZiBwb2ludHMgYXJlIGNvbGxpbmVhci48L3JldHVybnM+XG5mdW5jdGlvbiBBcmVhKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gYS54ICogKGIueSAtIGMueSkgKyBiLnggKiAoYy55IC0gYS55KSArIGMueCAqIChhLnkgLSBiLnkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBDb252ZXhQYXJ0aXRpb246IENvbnZleFBhcnRpdGlvbixcbiAgICBGb3JjZUNvdW50ZXJDbG9ja1dpc2U6IEZvcmNlQ291bnRlckNsb2NrV2lzZSxcbiAgICBJc0NvdW50ZXJDbG9ja1dpc2U6IElzQ291bnRlckNsb2NrV2lzZVxufTtcbiJdfQ==